{"version":3,"sources":["../../../../src/app/letters/page.jsx"],"sourcesContent":["import React from 'react';\nimport Header from '../../components/Header';\nimport Footer from '../../components/Footer';\nimport { getDatabase } from '../../lib/notion';\n\n// Revalidate every hour\nexport const revalidate = 3600;\n\nexport default async function LettersPage() {\n    const databaseId = process.env.NOTION_GOSPEL_DB_ID;\n    let letters = [];\n    let error = null;\n\n    if (!databaseId) {\n        error = \"NOTION_GOSPEL_DB_ID is not set in .env file.\";\n    } else {\n        try {\n            letters = await getDatabase(databaseId);\n        } catch (e) {\n            error = \"Failed to fetch data. Please check your Notion API Key and Database ID.\";\n            console.error(e);\n        }\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[#F4F3EF]\">\n            <Header />\n\n            <main className=\"pt-32 pb-20 px-6 sm:px-8 lg:px-24 min-h-screen\">\n                <div className=\"max-w-4xl mx-auto\">\n                    <h1 className=\"font-sans font-bold text-4xl sm:text-5xl md:text-6xl mb-12 text-[#05121C] uppercase tracking-tight text-center\">\n                        Gospel Letters\n                    </h1>\n\n                    {error ? (\n                        <div className=\"p-8 bg-red-50 border border-red-200 rounded-lg text-center text-red-600\">\n                            <p className=\"font-bold mb-2\">Connection Error</p>\n                            <p>{error}</p>\n                            <p className=\"text-sm mt-4 text-gray-500\">\n                                Please make sure you have created a <code>.env</code> file with <code>NOTION_API_KEY</code> and <code>NOTION_GOSPEL_DB_ID</code>.\n                            </p>\n                        </div>\n                    ) : (\n                        <div className=\"grid gap-8\">\n                            {letters.length === 0 ? (\n                                <p className=\"text-center text-gray-500\">No letters found.</p>\n                            ) : (\n                                letters.map((letter) => {\n                                    // Adjust property names based on your actual Notion DB schema\n                                    const title = letter.properties?.Name?.title?.[0]?.plain_text || \"Untitled\";\n                                    const date = letter.properties?.Date?.date?.start || \"No Date\";\n\n                                    return (\n                                        <Link href={`/letters/${letter.id}`} key={letter.id} className=\"block group\">\n                                            <div className=\"bg-white p-8 rounded-lg shadow-sm group-hover:shadow-md transition-all border border-gray-100 group-hover:-translate-y-1 duration-300\">\n                                                <p className=\"text-sm text-gray-400 font-mono mb-2\">{date}</p>\n                                                <h2 className=\"text-2xl font-bold text-[#05121C] font-yisunshin group-hover:text-[#5F94BD] transition-colors\">{title}</h2>\n                                            </div>\n                                        </Link>\n                                    );\n                                })\n                            )}\n                        </div>\n                    )}\n                </div>\n            </main>\n\n            <Footer />\n        </div>\n    );\n}\n"],"names":[],"mappings":"8LAAA,EAAA,CAAA,CAAA,KACA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAKe,eAAe,IAC1B,IAAM,EAAa,QAAQ,GAAG,CAAC,mBAAmB,CAC9C,EAAU,EAAE,CACZ,EAAQ,KAEZ,GAAK,CAAD,CAGA,GAAI,CACA,EAAU,IAJD,EAIO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAChC,CAAE,MAAO,EAAG,CACR,EAAQ,0EACR,QAAQ,KAAK,CAAC,EAClB,MAPA,EAAQ,+CAUZ,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,GAEP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0HAAiH,mBAI9H,EACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oFACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,qBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,IACJ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,uCACF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,SAAW,cAAW,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,mBAAqB,QAAK,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,wBAA0B,UAIxI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACS,IAAnB,EAAQ,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,sBAEzC,EAAQ,GAAG,CAAC,AAAC,IAET,IAAM,EAAQ,EAAO,UAAU,EAAE,MAAM,OAAO,CAAC,EAAE,EAAE,YAAc,WAC3D,EAAO,EAAO,UAAU,EAAE,MAAM,MAAM,OAAS,UAErD,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAK,KAAM,CAAC,SAAS,EAAE,EAAO,EAAE,CAAA,CAAE,CAAkB,UAAU,uBAC3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kJACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gDAAwC,IACrD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yGAAiG,QAH7E,EAAO,EAAE,CAO3D,UAOpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,KAGnB,qCAhE0B"}